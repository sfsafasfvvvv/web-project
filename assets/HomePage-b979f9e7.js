import{_ as ne,u as ie,r as u,w as le,o as re,c as ce,a as d,b as s,d as r,e,f as c,g as i,F as g,h,i as l,j as $,E as A,t as n,k as _,n as D,l as I,m as R,p as de,q as ue,s as _e,v as pe,x as me,y as fe,z as ye,A as ve,B as ge,C as he,D as ke,G as be,H as we,I as G,J as Ce}from"./index-237fd1da.js";import{f as Fe}from"./index-b42aae58.js";import"./index-54741844.js";const xe={class:"home-page"},Ee={class:"banner"},Te={class:"banner-content"},Pe={class:"banner-text"},De={class:"categories section"},Se={class:"container"},Me={key:1,class:"category-grid"},Ne=["onClick"],Be={class:"featured section"},ze={class:"container"},$e={class:"section-header"},Ae={class:"header-right"},Ie={class:"product-grid"},Re=["onClick"],Ge={class:"image-placeholder"},Le={class:"product-tags"},Ue={class:"product-info"},Ve={class:"product-title"},He={class:"product-meta"},qe={class:"price"},Oe={key:0,class:"original-price"},We={class:"product-footer"},je={class:"location"},Je={class:"time"},Qe={class:"load-more"},Ye={class:"features section"},Ke={class:"container"},Xe={key:1,class:"features-grid"},Ze={class:"feature-icon"},et={class:"news section"},tt={class:"container"},ot=["onClick"],st={class:"news-category"},at={class:"news-content"},nt={class:"news-meta"},it={class:"category"},lt={class:"date"},rt={class:"news-title"},ct={class:"news-excerpt"},dt={key:0,class:"error-container"},ut={__name:"HomePage",setup(_t){const C=ie(),L=[{id:1,title:"Campus Marketplace",description:"Give your unused items a new life, make campus life better",buttonText:"Get Started",link:"/categories",bgColor:"#e3f2fd"},{id:2,title:"Trustworthy Transactions",description:"A safe and reliable trading environment, so you can buy and sell with confidence",buttonText:"Learn More",link:"/about",bgColor:"#e8f5e9"},{id:3,title:"Post Products",description:"Quickly post your unused items, find their new owners",buttonText:"Go Post",link:"/publish",bgColor:"#fff3e0"}],U=[{id:"books",name:"Textbooks",icon:pe,description:"Secondhand textbooks, textbooks, and exam materials",link:"/category/books"},{id:"electronics",name:"Electronics",icon:me,description:"Mobile phones, computers, and digital accessories",link:"/category/electronics"},{id:"daily",name:"Daily Necessities",icon:fe,description:"Daily necessities and dormitory supplies",link:"/category/daily"},{id:"sports",name:"Sports and Fitness",icon:ye,description:"Sports equipment and fitness equipment",link:"/category/sports"},{id:"fashion",name:"Fashion and Style",icon:ve,description:"Clothes, shoes, and accessories",link:"/category/fashion"},{id:"others",name:"Other Categories",icon:ge,description:"More product categories",link:"/categories"}],k=u("all"),m=u(!0),b=u(!1),V=u(!1),T=u(null),S=u(!0),F=u(1),M=u(12),H=u(0),v=u([]),x=async()=>{m.value=!0;try{const a={page:F.value,pageSize:M.value,type:k.value};await new Promise(f=>setTimeout(f,1e3));const o=["#E3F2FD","#F3E5F5","#E8F5E9","#FFF3E0","#F5F5F5","#E1F5FE","#FCE4EC","#F1F8E9","#FFF8E1","#E8EAF6","#E0F2F1","#FBE9E7"],p=Array(M.value).fill(null).map((f,w)=>({id:String(Date.now()+w),title:`Product ${w+1}`,price:Math.floor(Math.random()*1e3)+100,originalPrice:Math.floor(Math.random()*2e3)+1e3,location:"Example University",createTime:new Date(Date.now()-Math.random()*1e3*60*60*24*7).toISOString(),tags:["95% New","Under Warranty"],bgColor:o[w%o.length]}));F.value===1?v.value=p:v.value.push(...p),H.value=100}catch(a){console.error("Failed to load products:",a),A.error("Failed to load product list, please try again")}finally{m.value=!1}};le(k,()=>{F.value=1,x()});const q=async()=>{if(!(b.value||!S.value))try{b.value=!0,F.value++,await x()}finally{b.value=!1}},O=async()=>{await x()},N=()=>{V.value=!0,O()};re(()=>{x()});const W=[{id:1,icon:he,title:"Security Guarantee",description:"Real name verification, campus trustworthy environment"},{id:2,icon:ke,title:"Guaranteed Transactions",description:"Platform guarantee, no worries about transactions"},{id:3,icon:be,title:"Instant Communication",description:"Buyers and sellers communicate online"},{id:4,icon:we,title:"Credit Evaluation",description:"User credit system guarantee"}],j=[{id:1,title:"Platform Updated",excerpt:"To provide a better user experience, the platform has been upgraded...",category:"Platform Announcement",date:new Date(Date.now()-1e3*60*60*24),bgColor:"#fafafa"},{id:2,title:"Trustworthy Transactions Month Activity",excerpt:"Participate in the activity to get credit points and have a chance to win big prizes...",category:"Activity Information",date:new Date(Date.now()-1e3*60*60*24*2),bgColor:"#f3e5f5"},{id:3,title:"Campus Secondhand Transaction Safety Guide",excerpt:"To ensure transaction safety, we have compiled safety precautions for transactions...",category:"Safety Reminder",date:new Date(Date.now()-1e3*60*60*24*3),bgColor:"#e1f5fe"}],B=ce(()=>{switch(k.value){case"new":return[...v.value].sort((a,o)=>o.createTime-a.createTime);case"hot":return v.value;case"recommend":return v.value;default:return v.value}}),J=a=>{C.push(a.link)},Q=a=>{C.push(a.link)},Y=async a=>{try{await C.push(`/product/${a.id}`)}catch(o){console.error("Failed to navigate:",o),A.error("Failed to navigate, please try again")}},K=a=>{C.push(`/news/${a.id}`)},X=a=>{if(!a)return"";try{return Fe(new Date(a),"yyyy-MM-dd",{locale:G})}catch{return console.error("Invalid date:",a),""}},Z=a=>{if(!a)return"";try{return Ce(new Date(a),{addSuffix:!0,locale:G})}catch{return console.error("Invalid time:",a),""}};return(a,o)=>{const p=d("el-skeleton"),f=d("el-button"),w=d("el-carousel-item"),ee=d("el-carousel"),P=d("el-icon"),E=d("el-radio-button"),te=d("el-radio-group"),z=d("el-empty"),oe=d("el-col"),se=d("el-row"),ae=d("el-result");return s(),r("div",xe,[e("section",Ee,[m.value?(s(),c(p,{key:0,rows:3,animated:""})):(s(),c(ee,{key:1,height:"400px",interval:5e3,arrow:"always"},{default:i(()=>[(s(),r(g,null,h(L,t=>l(w,{key:t.id,style:D({background:t.bgColor})},{default:i(()=>[e("div",Te,[e("div",Pe,[e("h2",null,n(t.title),1),e("p",null,n(t.description),1),l(f,{type:"primary",size:"large",onClick:y=>J(t)},{default:i(()=>[_(n(t.buttonText),1)]),_:2},1032,["onClick"])])])]),_:2},1032,["style"])),64))]),_:1}))]),e("section",De,[e("div",Se,[o[1]||(o[1]=e("h2",{class:"section-title"},"Categories",-1)),o[2]||(o[2]=e("p",{class:"section-subtitle"},"Browse categories you're interested in and discover more great items",-1)),m.value?(s(),c(p,{key:0,count:8})):(s(),r("div",Me,[(s(),r(g,null,h(U,t=>e("div",{key:t.id,class:"category-card",onClick:y=>Q(t)},[l(P,{class:"category-icon"},{default:i(()=>[(s(),c(I(t.icon)))]),_:2},1024),e("h3",null,n(t.name),1),e("p",null,n(t.description),1)],8,Ne)),64))]))])]),e("section",Be,[e("div",ze,[e("div",$e,[o[7]||(o[7]=e("div",{class:"header-left"},[e("h2",{class:"section-title"},"Featured Items"),e("p",{class:"section-subtitle"},"Recommended products for you")],-1)),e("div",Ae,[l(te,{modelValue:k.value,"onUpdate:modelValue":o[0]||(o[0]=t=>k.value=t),size:"large"},{default:i(()=>[l(E,{value:"all"},{default:i(()=>o[3]||(o[3]=[_("All")])),_:1}),l(E,{value:"new"},{default:i(()=>o[4]||(o[4]=[_("Latest")])),_:1}),l(E,{value:"hot"},{default:i(()=>o[5]||(o[5]=[_("Popular")])),_:1}),l(E,{value:"recommend"},{default:i(()=>o[6]||(o[6]=[_("For You")])),_:1})]),_:1},8,["modelValue"])])]),e("div",Ie,[m.value?(s(),c(p,{key:0,count:8})):B.value.length===0?(s(),c(z,{key:1,description:"No items found"},{extra:i(()=>[l(f,{type:"primary",onClick:N},{default:i(()=>o[8]||(o[8]=[_("Refresh")])),_:1})]),_:1})):(s(!0),r(g,{key:2},h(B.value,t=>(s(),r("div",{key:t.id,class:"product-card",onClick:y=>Y(t)},[e("div",{class:"product-image",style:D({background:t.bgColor})},[e("div",Ge,[l(P,null,{default:i(()=>[l(R(de))]),_:1})]),e("div",Le,[(s(!0),r(g,null,h(t.tags,y=>(s(),r("span",{key:y,class:ue(["tag",y])},n(y),3))),128))])],4),e("div",Ue,[e("h3",Ve,n(t.title),1),e("div",He,[e("span",qe,"$"+n(t.price),1),t.originalPrice?(s(),r("span",Oe," $"+n(t.originalPrice),1)):$("",!0)]),e("div",We,[e("span",je,[l(P,null,{default:i(()=>[l(R(_e))]),_:1}),_(" "+n(t.location),1)]),e("span",Je,n(Z(t.createTime)),1)])])],8,Re))),128))]),e("div",Qe,[S.value?(s(),c(f,{key:0,loading:b.value,onClick:q},{default:i(()=>[_(n(b.value?"Loading...":"Load More"),1)]),_:1},8,["loading"])):(s(),c(z,{key:1,description:"No more items","image-size":60}))])])]),e("section",Ye,[e("div",Ke,[o[9]||(o[9]=e("h2",{class:"section-title"},"Why Choose Us",-1)),o[10]||(o[10]=e("p",{class:"section-subtitle"},"Benefits of our platform",-1)),m.value?(s(),c(p,{key:0,count:4})):(s(),r("div",Xe,[(s(),r(g,null,h(W,t=>e("div",{class:"feature-card",key:t.id},[e("div",Ze,[(s(),c(I(t.icon)))]),e("h3",null,n(t.title),1),e("p",null,n(t.description),1)])),64))]))])]),e("section",et,[e("div",tt,[o[11]||(o[11]=e("h2",{class:"section-title"},"Latest News",-1)),o[12]||(o[12]=e("p",{class:"section-subtitle"},"Stay updated with platform news",-1)),m.value?(s(),c(p,{key:0,count:3})):(s(),c(se,{key:1,gutter:24},{default:i(()=>[(s(),r(g,null,h(j,t=>l(oe,{xs:24,sm:12,md:8,key:t.id},{default:i(()=>[e("div",{class:"news-card",onClick:y=>K(t)},[e("div",{class:"news-image",style:D({background:t.bgColor})},[e("div",st,n(t.category),1)],4),e("div",at,[e("div",nt,[e("span",it,n(t.category),1),e("span",lt,n(X(t.date)),1)]),e("h3",rt,n(t.title),1),e("p",ct,n(t.excerpt),1)])],8,ot)]),_:2},1024)),64))]),_:1}))])]),T.value?(s(),r("div",dt,[l(ae,{icon:"error",title:T.value.message,"sub-title":T.value.description},{extra:i(()=>[l(f,{type:"primary",onClick:N},{default:i(()=>o[13]||(o[13]=[_("Retry")])),_:1})]),_:1},8,["title","sub-title"])])):$("",!0)])}}},yt=ne(ut,[["__scopeId","data-v-6a4f0c1c"]]);export{yt as default};
