import{_ as B,K as M,u as U,r as l,o as N,a as v,b as n,d as r,e,k as i,t as a,F as V,h as E,f as L,i as u,g as _,j as T,E as I}from"./index-237fd1da.js";const R={class:"followers-page"},$={class:"container"},j={class:"page-header"},q={class:"meta"},z={class:"count"},A={key:0,class:"user-list"},D={class:"user-info"},K={class:"user-avatar",style:{background:"#f5f5f5"}},G={class:"user-meta"},H={class:"bio"},J={class:"user-stats"},O={class:"stat-item"},Q={class:"value"},W={class:"stat-item"},X={class:"value"},Y={class:"stat-item"},Z={class:"value"},ss={class:"user-actions"},es={key:2,class:"load-more"},os={__name:"UserFollowersPage",setup(ts){M();const y=U(),c=l([{id:1,username:"示例粉丝A",bio:"这是一个示例简介",creditScore:92,productCount:5,followerCount:45,isFollowing:!1},{id:2,username:"示例粉丝B",bio:"喜欢淘二手好物",creditScore:95,productCount:3,followerCount:23,isFollowing:!0}]),m=l(1),C=l(20),h=l(0),f=l(!0),d=l(!1),k=async t=>{try{await new Promise(s=>setTimeout(s,1e3)),t.isFollowing=!t.isFollowing,I.success(t.isFollowing?"关注成功":"已取消关注")}catch(s){console.error("Follow failed:",s)}},F=t=>{y.push({name:"message",query:{userId:t.id}})},b=async()=>{if(!d.value){d.value=!0;try{await new Promise(s=>setTimeout(s,1e3));const t=[{id:3,username:"示例粉丝C",bio:"爱好收藏各类二手书籍",creditScore:94,productCount:7,followerCount:34,isFollowing:!1}];c.value.push(...t),m.value++,f.value=m.value*C.value<h.value}catch(t){console.error("Load more failed:",t)}finally{d.value=!1}}};return N(async()=>{}),(t,s)=>{const x=v("router-link"),p=v("el-button"),P=v("el-empty");return n(),r("div",R,[e("div",$,[e("div",j,[s[2]||(s[2]=e("h1",{class:"title"},"粉丝列表",-1)),e("div",q,[s[0]||(s[0]=i(" 共 ")),e("span",z,a(c.value.length),1),s[1]||(s[1]=i(" 个粉丝 "))])]),c.value.length?(n(),r("div",A,[(n(!0),r(V,null,E(c.value,o=>{var g,w;return n(),r("div",{key:o.id,class:"user-card"},[e("div",D,[e("div",K,a((w=(g=o.username)==null?void 0:g[0])==null?void 0:w.toUpperCase()),1),e("div",G,[u(x,{to:{name:"user-profile",params:{id:o.id}},class:"username"},{default:_(()=>[i(a(o.username),1)]),_:2},1032,["to"]),e("p",H,a(o.bio||"这个人很懒，什么都没写~"),1),e("div",J,[e("div",O,[e("span",Q,a(o.creditScore),1),s[3]||(s[3]=e("span",{class:"label"},"信用分",-1))]),e("div",W,[e("span",X,a(o.productCount),1),s[4]||(s[4]=e("span",{class:"label"},"在售",-1))]),e("div",Y,[e("span",Z,a(o.followerCount),1),s[5]||(s[5]=e("span",{class:"label"},"粉丝",-1))])])])]),e("div",ss,[u(p,{type:o.isFollowing?"default":"primary",onClick:S=>k(o)},{default:_(()=>[i(a(o.isFollowing?"取消关注":"关注"),1)]),_:2},1032,["type","onClick"]),u(p,{type:"primary",onClick:S=>F(o)},{default:_(()=>s[6]||(s[6]=[i(" 发消息 ")])),_:2},1032,["onClick"])])])}),128))])):(n(),L(P,{key:1,description:"暂无粉丝"})),f.value?(n(),r("div",es,[u(p,{loading:d.value,onClick:b},{default:_(()=>s[7]||(s[7]=[i(" 加载更多 ")])),_:1},8,["loading"])])):T("",!0)])])}}},ls=B(os,[["__scopeId","data-v-012b55fa"]]);export{ls as default};
