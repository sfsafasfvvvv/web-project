import{_ as B,K as M,u as U,r as n,o as N,a as v,b as i,d as c,e as s,k as r,t as l,F as V,h as E,f as L,i as u,g as _,j as T,E as I}from"./index-237fd1da.js";const R={class:"following-page"},$={class:"container"},j={class:"page-header"},q={class:"meta"},z={class:"count"},A={key:0,class:"user-list"},D={class:"user-info"},K={class:"user-avatar",style:{background:"#f5f5f5"}},G={class:"user-meta"},H={class:"bio"},J={class:"user-stats"},O={class:"stat-item"},Q={class:"value"},W={class:"stat-item"},X={class:"value"},Y={class:"stat-item"},Z={class:"value"},ee={class:"user-actions"},se={key:2,class:"load-more"},oe={__name:"UserFollowingPage",setup(te){M();const y=U(),a=n([{id:1,username:"示例用户A",bio:"这是一个示例简介",creditScore:98,productCount:12,followerCount:128,isFollowing:!0},{id:2,username:"示例用户B",bio:"热爱二手交易的大学生",creditScore:95,productCount:8,followerCount:56,isFollowing:!0}]),m=n(1),C=n(20),h=n(0),g=n(!0),d=n(!1),k=async o=>{try{await new Promise(e=>setTimeout(e,1e3)),o.isFollowing=!o.isFollowing,o.isFollowing||(a.value=a.value.filter(e=>e.id!==o.id)),I.success(o.isFollowing?"关注成功":"已取消关注")}catch(e){console.error("Follow failed:",e)}},F=o=>{y.push({name:"message",query:{userId:o.id}})},b=async()=>{if(!d.value){d.value=!0;try{await new Promise(e=>setTimeout(e,1e3));const o=[{id:3,username:"示例用户C",bio:"专注于数码产品交易",creditScore:96,productCount:15,followerCount:89,isFollowing:!0}];a.value.push(...o),m.value++,g.value=m.value*C.value<h.value}catch(o){console.error("Load more failed:",o)}finally{d.value=!1}}};return N(async()=>{}),(o,e)=>{const x=v("router-link"),p=v("el-button"),P=v("el-empty");return i(),c("div",R,[s("div",$,[s("div",j,[e[2]||(e[2]=s("h1",{class:"title"},"关注列表",-1)),s("div",q,[e[0]||(e[0]=r(" 共 ")),s("span",z,l(a.value.length),1),e[1]||(e[1]=r(" 个关注 "))])]),a.value.length?(i(),c("div",A,[(i(!0),c(V,null,E(a.value,t=>{var f,w;return i(),c("div",{key:t.id,class:"user-card"},[s("div",D,[s("div",K,l((w=(f=t.username)==null?void 0:f[0])==null?void 0:w.toUpperCase()),1),s("div",G,[u(x,{to:{name:"user-profile",params:{id:t.id}},class:"username"},{default:_(()=>[r(l(t.username),1)]),_:2},1032,["to"]),s("p",H,l(t.bio||"这个人很懒，什么都没写~"),1),s("div",J,[s("div",O,[s("span",Q,l(t.creditScore),1),e[3]||(e[3]=s("span",{class:"label"},"信用分",-1))]),s("div",W,[s("span",X,l(t.productCount),1),e[4]||(e[4]=s("span",{class:"label"},"在售",-1))]),s("div",Y,[s("span",Z,l(t.followerCount),1),e[5]||(e[5]=s("span",{class:"label"},"粉丝",-1))])])])]),s("div",ee,[u(p,{type:t.isFollowing?"default":"primary",onClick:S=>k(t)},{default:_(()=>[r(l(t.isFollowing?"取消关注":"关注"),1)]),_:2},1032,["type","onClick"]),u(p,{type:"primary",onClick:S=>F(t)},{default:_(()=>e[6]||(e[6]=[r(" 发消息 ")])),_:2},1032,["onClick"])])])}),128))])):(i(),L(P,{key:1,description:"暂无关注"})),g.value?(i(),c("div",se,[u(p,{loading:d.value,onClick:b},{default:_(()=>e[7]||(e[7]=[r(" 加载更多 ")])),_:1},8,["loading"])])):T("",!0)])])}}},ae=B(oe,[["__scopeId","data-v-c39b372c"]]);export{ae as default};
